generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model linha {
  id          Int      @id
  inicio      DateTime @db.DateTime(0)
  fim         DateTime @db.DateTime(0)
  localinicio String   @db.VarChar(45)
  localfim    String   @db.VarChar(45)
}

model motorista {
  id           Int      @id
  cpf          String?  @db.VarChar(15)
  nome         String   @db.VarChar(200)
  nascimento   DateTime @db.Date
  numero       String   @db.VarChar(15)
  email        String   @db.VarChar(200)
  foto_caminho String   @db.VarChar(200)
}

model onibus {
  id    Int    @id
  placa String @db.VarChar(8)
}

model passageiro {
  id           Int
  nome         String   @db.VarChar(200)
  saldo        Decimal  @db.Decimal(10, 2)
  cpf          String?  @db.VarChar(15)
  nascimento   DateTime @db.Date
  numero       String   @db.VarChar(20)
  email        String   @db.VarChar(200)
  foto_caminho String   @db.VarChar(200)
  tipo_cartao  String   @db.VarChar(50)
  usuario_id   Int

  @@id([id, usuario_id])
}

model usuario {
  id           Int    @id
  nome         String @db.VarChar(200)
  email        String @db.VarChar(200)
  senha        String @db.VarChar(45)
  token        String @db.VarChar(45)
  foto_caminho String @db.VarChar(200)
}

model viagem {
  id           Int
  data         DateTime? @db.DateTime(0)
  onibus_id    Int
  motorista_id Int
  linha_id     Int

  @@id([id, onibus_id, motorista_id, linha_id])
}

model viagem_has_passageiro {
  tarifa        Decimal  @db.Decimal(10, 2)
  data          DateTime @db.DateTime(0)
  passageiro_id Int
  viagem_id     Int

  @@id([passageiro_id, viagem_id])
}
